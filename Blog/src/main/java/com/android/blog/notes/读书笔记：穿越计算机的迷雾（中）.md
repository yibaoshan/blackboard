
"好记性比如烂笔头"，读书笔记系列是为了记录自己的读书心得，文章内容一部分是摘抄原文，一部分是自己的理解和总结

本篇文章记录的是，来自李忠老师的《穿越计算机的迷雾》第二版

### 一、写在前面

在上一篇文章中，我们学习了二进制加法，和画一个简单的全加器电路，本篇主要介绍逻辑门电路，以及各种触发器

接下来我们再一次跟随**李忠**老师的脚步，一起来探究计算机内部的世界

*ps：限于篇幅，本篇文章在内容上有删减，建议阅读原著*

### 二、穿越计算机的迷雾

在历史上，各门学科之间的交叉和融合是一种常态

到17世纪的时候，由于数学的大发展，使得那些既精通数学，又对其他学科有深入研究的人开始想入非非

英格兰的数学家，乔治·布尔就是其中之一

#### 从逻辑学到逻辑电路

1847年，布尔出版了《The Mathematical Analysis of Logic(逻辑的数学分析)》，这是他对符号逻辑诸多贡献中的第一次。

1854年，布尔出版了《The Laws of Thought（思维规律的研究）》，这是他最著名的著作。在这本书中布尔介绍了现在以他的名字命名的 "布尔代数"

布尔代数是什么我们这里暂且按下不表，我们只需要知道布尔运算阐述了二进制的运算法则，我们常说的 "与或非" 逻辑运算就是出自于此

ps：这也是很多计算机语言中将逻辑运算称为布尔运算，将其结果称为布尔值的原因

##### 1、逻辑电路的诞生

1936年，美国数学家香农发表了一篇论文：《继电器和开关电路的符号化分析》

历史总是惊人地相似，就像布尔把 '逻辑学' 和 '数学' 结合起来开创了 '数理逻辑' 一样，香农所做的，就是把 '布尔代数' 和 '电学' 结合起来，开创了一个新的领域：开关电路

在这篇论文中，香农证明了布尔运算可通过继电器电路来实现

比如，图 5.7 就是一个应用 '非门' 的例子

在这个例子中，共有两个完成的电路，左边的 A 电路控制了一个 '电磁继电器' J，右边的 F 电路连接了个小灯泡，并且电路是联通的状态，灯平时是亮着的

当 A 电路开关闭合，继电器 J 通电后就变成一块电磁铁，磁力吸引了 F 电路开关移动，于是，F 开关断开，小灯泡灭掉了

书本的第五章，还介绍了 '与门' 和 '或门' 电路，我们这里就不展示了，原文或者参考资料中都有详细介绍

#### 从触发器到寄存器

香农的《继电器和开关电路的符号化分析》对计算机的发明意义重大，因为从某种意义上说，计算机就是许多个开关组合

通常，开关的作用是非常直接的：接通开关，灯泡亮了；断开开关，灯泡灭了

但是，要制造一台真正现代的、功能强大的计算机，仅仅有这些简单的开关是远远不够

所以，从第七章开始，我们将学习如何来制造一些特殊的开关，它们都很奇特，已经不是我们在生活中经常接触并司空见惯的那些

##### 1、用继电器做振荡器

在介绍这些特殊开关之前，我们先来了解怎么用电磁继电器来做一个振荡器出来

如图 7. 5 所示，电路中连接了一个继电器和一个灯泡，与之前不同的是，这里的继电器的输入就是自己的输出

ps：其实我觉得作者这里用的图表达的不够清晰，但网上找了一圈好像也没有更好的了~

因为继电器的衔铁平时是闭合的，当它一通电，会立即使灯泡点亮。不过，这个输出又是继电器的输入，所以在灯泡亮的同时，电磁铁产生磁力，马上又把衔铁开关拉开，于是灯又灭了。

灯灭了不要紧，最要命的是电磁铁同时也失去了磁性，于是衔铁开关又恢复原状，将电路接通，灯又亮了

这个经过如此特殊连接的电路将一直工作在一会儿有输出、一会儿没有输出的状态，而那只灯泡也将一亮一灭，就这样没完没了地进行下去

振荡器能翻转多快，就看继电器的反应有多快了。现代计算机用晶体管代替了继电器，晶体管比继电器翻转速度快得多，所以能够得到的频率更高，计算机的速度更快，而且更省电

本小节我们先知道有振荡器这么个东西，现在还用不到它

##### 2、电子管的发明

1904年的11月16日是电学史上一个很重要的日子，在那天，一个名叫弗莱明的英国人发明了二极管，整个20世纪的电学成就始于这个简单的发明，他的实验过程如下图：

图 7.10

如图 7.10 ，通常情况下，右边那只灯泡是不会亮的，这符合我们从生活中得来的常识，因为两根电线是分开的，即使它们被一个抽成真空的瓶子罩着

但在这回，在真空中，两个隔着一定距离的导线竟然有电流通过，右边那只灯泡居然亮了

之后，美国发明家福雷斯特在此基础上又发明了三极管。在原有的电子二极管里，也就是阴极和阳极之间，又加入一根金属丝，称为栅极，电子三极管的原理示意如图 7.13 所示

福雷斯特发现，通过改变栅极上电压的大小和极性，可以改变阳极上电流的强弱，并且只要栅极上的电流发生一点点变化，阳极上的电流就会大幅度地跟着改变

电子三极管具有放大作用！这在电学史上是个很重要的事件

福雷斯特发明的电子三极管很快风靡全世界，首先，贝尔和爱迪生他们肯定非常喜欢，因为他们正为电话的信号太弱而发愁，有了电子三极管，无论多微弱的声音信号，都可以变得十分洪亮

##### 3、记忆力非凡的触发器

从第七章的第4小节，一直到第八章结束，作者分别介绍了 RS 触发器、D 触发器、上升沿 D 触发器的发明过程，并最终用上升沿 D 触发器做了一个能够保存 5bit 的寄存器出来

说实话，触发器这部分的我没怎么看懂，我能记住 RS 触发器的真值表，但捋不清楚为什么这么设计，至于后面的 D 触发器和上升沿 D 触发器更是如此

不过好在有大神把这几个触发器的电路都画了出来，来看成果展示：

图片来源：https://www.cnblogs.com/bitzhuwei/p/from_relay_to_tiny_cpu.html

上图是利用上升沿 D 触发器做的 "走马灯"。走马灯是每次都让前面一个灯泡亮的设备，最后一个灯泡亮过之后，又从第一个灯泡开始亮，循环往复

下图则是利用上升沿 D 触发器做的，其实就是 5 个上升沿 D 触发器并列起来

图片来源：https://www.cnblogs.com/bitzhuwei/p/from_relay_to_tiny_cpu.html

想保存数据的时候，调整好 D0、D1、D2、D3、D4 五个开关，然后断开再闭合一下控制端的开关 S5 即可，数据就保存到了5个上升沿 D 触发器的 Q 端

本小节我们学会了用电路组成寄存器，这是非常大的进步！接下来我们将开始学习，如何设计加法机

ps：触发器这部分建议阅读：[继电器是如何成为CPU的（一） - BIT祝威](https://www.cnblogs.com/bitzhuwei/p/from_relay_to_tiny_cpu.html)

### 三、结语

世界上第一只电子二极管发明于1904年，第三年，也就是1906年，福雷斯特才发明了电子三极管

电子二极管和三极管的发明不是因为要制造计算机，相反，它们被广泛地应用于电话、电报和无线电通信

尽管1918年埃克尔斯和乔丹发明了世界上第一个触发器装置，但他们尚不知道这东西有什么用处

直到1936年，香农发表了他的论文《继电器和开关电路的符号化分析》，这篇论文打通了进入数字王国的第一道关口，那就是，如何根据我们想要得到的结果来构造一个开关电路

1941 年香农进入贝尔实验室工作，在贝尔实验室中，香农进一步证明了能采用实现布尔运算的继电器或电子元件能制造计算机

再到后来，对于计算机的发明，冯・诺伊曼提出了二进制与程序内存思想

布尔运用一些列逻辑符号阐述了二进制的逻辑演算

图灵提出了一种描述计算步骤的数学模型并在其中引入了二进制运算，形成了理论上的“图灵机”

香农则证明了布尔运算可通过继电器电路来实现，并在贝尔实验室进一步证明了采用能实现布尔运算的继电器或电子元件能制造计算机。

科学家们也同样知道——继电器可以用来制造逻辑门。那么，好，我们可以用逻辑门来搭建各种各样的逻辑电路，包括那些用于解决数学问题的运算电路

本篇涉及到部分数字电路的知识，可以搜索"我的世界 红石系统"进行了解，科班或在校学生学习的话还是建议看教材

最后，引用作者李忠的一句话作为结尾，共勉

"学习计算机就像是考古，我们学习知识不应该和游戏规则一样死记硬背，我更关心每个知识点背后的故事，知识怎么一步步来的"

### 四、参考资料

- [《穿越计算机的迷雾》- 李忠](https://book.douban.com/subject/30198087/)
- [继电器是如何成为CPU的（一） - BIT祝威](https://www.cnblogs.com/bitzhuwei/p/from_relay_to_tiny_cpu.html)
- [继电器是如何成为CPU的（二） - BIT祝威](https://www.cnblogs.com/bitzhuwei/p/from_relay_to_tiny_CPU2.html)
- [红石电路教程 - 我的世界官网](https://minecraft.fandom.com/zh/wiki/%E6%95%99%E7%A8%8B/%E9%AB%98%E7%BA%A7%E7%BA%A2%E7%9F%B3%E7%94%B5%E8%B7%AF)