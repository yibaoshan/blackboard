
### Hardware

### Linux Kernel

判断事件的类型，这部分工作是屏幕的驱动程序来完成，感兴趣的同学可以用 " Linux 触摸屏驱动开发" 作为关键字搜索相关文章

举个例子，小米10使用了两个供应商的屏幕，三星屏和华星光电屏是混用的，

内核是以中断的方式来处理用户输入事件的，

内核程序为屏幕驱动提供注册接口，驱动程序被加载后，调用 xxx 函数注册到内核

在触摸事件发生后，驱动程序向内核提交消息，内核这边把事件写入到 xxx 节点，等待需要使用的

站在内核的角度来看，当触摸事件发生后，内核并不会主动的向框架层分发，这也符合程序设计中的接口隔离原则

#### 1、从硬件到内核

硬件驱动程序

扯远了，我们继续来看事件怎么发送到内核程序的

#### 2、内核解析原始事件

驱动程序会上报是什么类型的事件，比如是点击、长按还是移动事件等，处理滑动轨迹

提供注册接口

#### 3、等待其他应用程序读取

好了，现在触摸事件已经被保存到 xxx 节点中，接下来

### Android Framework Native

在 Framework Native 层负责读取和分发的角色是 xxx ，它们运行在 inputmanager 进程中，由 init 拉起

### Android Framework Java

zygote 进程启动过程中会启动 ART 虚拟机，连带拉起各种 SystemServer 进程，在